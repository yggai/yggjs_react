# yggjs_react 目录结构说明

## 项目根目录结构

```
my-react-app/
├── .npmrc                      # pnpm配置文件
├── index.html                  # HTML入口文件
├── package.json                # 项目配置和依赖管理
├── tsconfig.json               # TypeScript主配置文件
├── tsconfig.node.json          # Node.js环境TypeScript配置
├── vite.config.ts              # Vite构建工具配置
└── src/                        # 源代码目录
    ├── components/             # 通用组件目录
    ├── pages/                  # 页面组件目录
    ├── routers/                # 路由配置目录
    ├── store/                  # 状态管理目录
    ├── App.tsx                 # 应用主组件
    ├── App.css                 # 应用样式文件
    ├── main.tsx                # 应用入口文件
    └── index.css               # 全局样式文件
```

## 配置文件详解

### .npmrc
pnpm包管理器配置文件，预配置了国内镜像源以加速依赖安装。

```ini
# 使用国内镜像源加速包下载
registry=https://registry.npmmirror.com

# React 相关包的镜像源
@types:registry=https://registry.npmmirror.com
@typescript-eslint:registry=https://registry.npmmirror.com
@vitejs:registry=https://registry.npmmirror.com

# 禁用工作区模式，强制在当前目录安装依赖
ignore-workspace=true
```

### package.json
项目配置文件，包含项目元信息、依赖管理和脚本命令。

```json
{
  "name": "my-react-app",
  "packageManager": "pnpm@8.15.0",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx",
    "preview": "vite preview"
  },
  "pnpm": {
    "registry": "https://registry.npmmirror.com"
  }
}
```

### tsconfig.json
TypeScript主配置文件，配置了严格的类型检查和现代JavaScript特性。

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "jsx": "react-jsx",
    "strict": true,
    "moduleResolution": "bundler"
  },
  "include": ["src"]
}
```

### vite.config.ts
Vite构建工具配置，预配置了React插件。

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
})
```

## src目录结构详解

### components/ - 通用组件目录

存放可复用的UI组件，每个组件都应该是独立的、可复用的。

```
src/components/
├── Layout.tsx              # 布局组件
├── index.ts                # 组件统一导出文件
└── [ComponentName]/        # 复杂组件目录（可选）
    ├── index.tsx           # 组件主文件
    ├── styles.css          # 组件样式
    └── types.ts            # 组件类型定义
```

**示例：Layout.tsx**
```typescript
import { Link } from 'react-router-dom'
import { ReactNode } from 'react'

interface LayoutProps {
  children: ReactNode
}

function Layout({ children }: LayoutProps) {
  return (
    <div className="App">
      <nav>
        <Link to="/">Home</Link>
        <Link to="/about">About</Link>
      </nav>
      <main>{children}</main>
    </div>
  )
}

export default Layout
```

### pages/ - 页面组件目录

存放页面级别的组件，每个页面对应一个路由。

```
src/pages/
├── Home.tsx                # 首页组件
├── About.tsx               # 关于页面组件
├── index.ts                # 页面统一导出文件
└── [PageName]/             # 复杂页面目录（可选）
    ├── index.tsx           # 页面主文件
    ├── components/         # 页面专用组件
    └── hooks/              # 页面专用hooks
```

**示例：Home.tsx**
```typescript
import { useCounterStore } from '../store/counter'

function Home() {
  const { count, increment, decrement } = useCounterStore()

  return (
    <div>
      <h1>Home Page</h1>
      <div className="card">
        <button onClick={decrement}>-</button>
        <span>count is {count}</span>
        <button onClick={increment}>+</button>
      </div>
    </div>
  )
}

export default Home
```

### routers/ - 路由配置目录

集中管理应用的路由配置。

```
src/routers/
├── index.tsx               # 主路由配置
└── [ModuleName].tsx        # 模块路由配置（可选）
```

**示例：index.tsx**
```typescript
import { Routes, Route } from 'react-router-dom'
import { Home, About } from '../pages'

function AppRoutes() {
  return (
    <Routes>
      <Route path="/" element={<Home />} />
      <Route path="/about" element={<About />} />
    </Routes>
  )
}

export default AppRoutes
```

### store/ - 状态管理目录

使用Zustand管理应用状态，按功能模块组织。

```
src/store/
├── counter.ts              # 计数器状态
├── user.ts                 # 用户状态（示例）
├── index.ts                # 状态统一导出
└── types.ts                # 状态类型定义（可选）
```

**示例：counter.ts**
```typescript
import { create } from 'zustand'

interface CounterState {
  count: number
  increment: () => void
  decrement: () => void
}

export const useCounterStore = create<CounterState>((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 })),
  decrement: () => set((state) => ({ count: state.count - 1 })),
}))
```

## 核心文件说明

### App.tsx - 应用主组件

应用的根组件，负责组装布局和路由。

```typescript
import { Layout } from './components'
import AppRoutes from './routers'
import './App.css'

function App() {
  return (
    <Layout>
      <AppRoutes />
    </Layout>
  )
}

export default App
```

### main.tsx - 应用入口

应用的启动文件，负责渲染根组件。

```typescript
import React from 'react'
import ReactDOM from 'react-dom/client'
import { BrowserRouter } from 'react-router-dom'
import App from './App.tsx'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <BrowserRouter>
      <App />
    </BrowserRouter>
  </React.StrictMode>,
)
```

## 目录组织原则

### 1. 按功能模块组织
- 相关的文件放在同一个目录下
- 每个模块都有明确的职责边界

### 2. 统一导出模式
- 每个目录都有index.ts文件统一导出
- 便于导入和重构

### 3. 类型安全
- 充分利用TypeScript的类型系统
- 为复杂数据结构定义类型

### 4. 可扩展性
- 目录结构支持项目规模的增长
- 新增功能时遵循现有模式

## 扩展建议

### 添加新功能模块

1. **创建页面**：在`pages/`目录下创建新页面
2. **添加路由**：在`routers/`中配置路由
3. **状态管理**：在`store/`中添加状态
4. **通用组件**：在`components/`中创建可复用组件

### 大型项目扩展

```
src/
├── api/                    # API接口层
├── hooks/                  # 自定义hooks
├── utils/                  # 工具函数
├── constants/              # 常量定义
├── types/                  # 全局类型定义
└── assets/                 # 静态资源
```

这种目录结构设计既保持了简洁性，又具备了良好的可扩展性，适合各种规模的React项目开发。
